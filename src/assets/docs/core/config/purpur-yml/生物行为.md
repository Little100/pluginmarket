# Purpur.yml 生物行为配置

Purpur 最大的特色之一是提供了丰富的生物行为自定义选项。本文档详细介绍 `world-settings` 中与生物相关的配置。

---

## 通用生物配置结构

每种生物的配置通常包含以下选项：

```yaml
world-settings:
  default:
    mobs:
      <mob_type>:
        rideable: false              # 是否可骑乘
        controllable: true           # 骑乘时是否可控制
        rideable-in-water: false     # 是否可在水中骑乘
        takes-damage-from-water: false  # 是否受水伤害
        max-health: 20.0             # 最大生命值
        attributes:
          max_health:
            min: 1.0
            max: 1024.0
```

---

## 骑乘系统详解

### 基本骑乘配置

```yaml
rideable: true
controllable: true
rideable-in-water: false
```

| 配置项 | 说明 |
|--------|------|
| rideable | 是否允许玩家骑乘该生物 |
| controllable | 骑乘时是否可以控制移动方向 |
| rideable-in-water | 是否可以在水中骑乘（适用于水生生物） |

### 骑乘权限

启用骑乘后，玩家需要相应权限才能骑乘：

- `purpur.ride.<mob_type>` - 骑乘特定生物的权限
- `purpur.ride.*` - 骑乘所有生物的权限

**示例权限节点**：
- `purpur.ride.dolphin` - 骑乘海豚
- `purpur.ride.bee` - 骑乘蜜蜂
- `purpur.ride.ender_dragon` - 骑乘末影龙

---

## 友好生物配置

### 悦灵 (Allay)

```yaml
mobs:
  allay:
    rideable: false
    controllable: true
    rideable-in-water: true
    respect-nbt: []
```

| 配置项 | 说明 |
|--------|------|
| rideable | 是否可骑乘悦灵 |
| controllable | 骑乘时是否可控制 |
| rideable-in-water | 是否可在水中骑乘 |
| respect-nbt | 需要尊重的 NBT 标签列表 |

### 蜜蜂 (Bee)

```yaml
mobs:
  bee:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| rideable | 是否可骑乘蜜蜂 |
| rideable-max-y | 骑乘时的最大飞行高度 |
| breeding-delay-ticks | 繁殖冷却时间（游戏刻） |

**趣味玩法**：启用蜜蜂骑乘后，玩家可以骑着蜜蜂飞行！

### 猫 (Cat)

```yaml
mobs:
  cat:
    rideable: false
    controllable: true
    rideable-in-water: true
    default-collar-color: RED
    spawn-delay: 1200
    spawn-in-villages: true
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| default-collar-color | 默认项圈颜色 |
| spawn-delay | 生成延迟（游戏刻） |
| spawn-in-villages | 是否在村庄生成 |
| breeding-delay-ticks | 繁殖冷却时间 |

**可用颜色**：WHITE, ORANGE, MAGENTA, LIGHT_BLUE, YELLOW, LIME, PINK, GRAY, LIGHT_GRAY, CYAN, PURPLE, BLUE, BROWN, GREEN, RED, BLACK

### 鸡 (Chicken)

```yaml
mobs:
  chicken:
    rideable: false
    controllable: true
    rideable-in-water: true
    retaliate: false
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| retaliate | 被攻击时是否反击 |
| breeding-delay-ticks | 繁殖冷却时间 |

### 牛 (Cow)

```yaml
mobs:
  cow:
    rideable: false
    controllable: true
    rideable-in-water: true
    feed-mushrooms-for-mooshroom: 0
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| feed-mushrooms-for-mooshroom | 喂食多少蘑菇可以将牛变成哞菇（0 表示禁用） |
| breeding-delay-ticks | 繁殖冷却时间 |

### 海豚 (Dolphin)

```yaml
mobs:
  dolphin:
    rideable: false
    controllable: true
    rideable-in-water: true
    disable-treasure-searching: false
    spit:
      cooldown: 20
      speed: 1.0
      damage: 2.0
```

| 配置项 | 说明 |
|--------|------|
| disable-treasure-searching | 禁用海豚寻宝功能 |
| spit.cooldown | 吐水攻击冷却时间 |
| spit.speed | 吐水速度 |
| spit.damage | 吐水伤害 |

**趣味玩法**：骑乘海豚可以在水中快速移动！

### 驴 (Donkey)

```yaml
mobs:
  donkey:
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| rideable-in-water | 是否可在水中骑乘 |
| breeding-delay-ticks | 繁殖冷却时间 |

### 狐狸 (Fox)

```yaml
mobs:
  fox:
    rideable: false
    controllable: true
    rideable-in-water: true
    tulips-change-type: false
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| tulips-change-type | 郁金香是否可以改变狐狸类型 |
| breeding-delay-ticks | 繁殖冷却时间 |

### 青蛙 (Frog)

```yaml
mobs:
  frog:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 发光鱿鱼 (Glow Squid)

```yaml
mobs:
  glow_squid:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 山羊 (Goat)

```yaml
mobs:
  goat:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 马 (Horse)

```yaml
mobs:
  horse:
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

原版马已经可以骑乘，Purpur 添加了水中骑乘选项。

### 铁傀儡 (Iron Golem)

```yaml
mobs:
  iron_golem:
    rideable: false
    controllable: true
    rideable-in-water: true
    can-spawn-in-air: false
    can-swim: false
```

| 配置项 | 说明 |
|--------|------|
| can-spawn-in-air | 是否可以在空中生成 |
| can-swim | 是否可以游泳 |

### 羊驼 (Llama)

```yaml
mobs:
  llama:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 哞菇 (Mooshroom)

```yaml
mobs:
  mooshroom:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 骡 (Mule)

```yaml
mobs:
  mule:
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 豹猫 (Ocelot)

```yaml
mobs:
  ocelot:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 熊猫 (Panda)

```yaml
mobs:
  panda:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 鹦鹉 (Parrot)

```yaml
mobs:
  parrot:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
```

| 配置项 | 说明 |
|--------|------|
| rideable-max-y | 骑乘时的最大飞行高度 |

### 猪 (Pig)

```yaml
mobs:
  pig:
    rideable: false
    controllable: true
    rideable-in-water: true
    give-saddle-back: false
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| give-saddle-back | 杀死猪时是否返还鞍 |

### 北极熊 (Polar Bear)

```yaml
mobs:
  polar_bear:
    rideable: false
    controllable: true
    rideable-in-water: true
    breedable: false
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| breedable | 是否可以繁殖（原版不可繁殖） |

### 兔子 (Rabbit)

```yaml
mobs:
  rabbit:
    rideable: false
    controllable: true
    rideable-in-water: true
    spawn-killer-rabbit-chance: 0.0
    spawn-toast-chance: 0.0
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| spawn-killer-rabbit-chance | 生成杀手兔的概率 |
| spawn-toast-chance | 生成 Toast 兔子的概率 |

### 绵羊 (Sheep)

```yaml
mobs:
  sheep:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 骷髅马 (Skeleton Horse)

```yaml
mobs:
  skeleton_horse:
    rideable-in-water: true
    can-swim: true
```

| 配置项 | 说明 |
|--------|------|
| can-swim | 是否可以游泳（原版骷髅马会沉入水中） |

### 嗅探兽 (Sniffer)

```yaml
mobs:
  sniffer:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 雪傀儡 (Snow Golem)

```yaml
mobs:
  snow_golem:
    rideable: false
    controllable: true
    rideable-in-water: true
    attack-distance: 1.25
    bypass-mob-griefing: false
    drop-pumpkin-when-sheared: true
    pumpkin-can-spawn-anywhere: false
    min-shoot-interval-ticks: 20
    max-shoot-interval-ticks: 20
    snow-ball-modifier: 10.0
    takes-damage-from-water: true
```

| 配置项 | 说明 |
|--------|------|
| attack-distance | 攻击距离 |
| bypass-mob-griefing | 是否绕过 mobGriefing 规则 |
| drop-pumpkin-when-sheared | 剪切时是否掉落南瓜 |
| pumpkin-can-spawn-anywhere | 南瓜是否可以在任何地方生成 |
| min/max-shoot-interval-ticks | 射击间隔范围 |
| snow-ball-modifier | 雪球伤害修正 |
| takes-damage-from-water | 是否受水伤害 |

### 鱿鱼 (Squid)

```yaml
mobs:
  squid:
    rideable: false
    controllable: true
    rideable-in-water: true
    immune-to-EAR: true
    water-offset-check: 0.0
    can-fly: false
```

| 配置项 | 说明 |
|--------|------|
| immune-to-EAR | 是否免疫实体激活范围 |
| water-offset-check | 水偏移检查 |
| can-fly | 是否可以飞行 |

### 流浪商人 (Wandering Trader)

```yaml
mobs:
  wandering_trader:
    rideable: false
    controllable: true
    rideable-in-water: true
    can-be-leashed: false
    follow-emerald-blocks: false
```

| 配置项 | 说明 |
|--------|------|
| can-be-leashed | 是否可以被拴绳牵引 |
| follow-emerald-blocks | 是否会跟随绿宝石块 |

### 狼 (Wolf)

```yaml
mobs:
  wolf:
    rideable: false
    controllable: true
    rideable-in-water: true
    default-collar-color: RED
    milk-cures-rabies: true
    spawn-rabid-chance: 0.0
    breeding-delay-ticks: 6000
```

| 配置项 | 说明 |
|--------|------|
| default-collar-color | 默认项圈颜色 |
| milk-cures-rabies | 牛奶是否可以治愈狂犬病 |
| spawn-rabid-chance | 生成狂犬病狼的概率 |

---

## 敌对生物配置

### 烈焰人 (Blaze)

```yaml
mobs:
  blaze:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    takes-damage-from-water: true
```

| 配置项 | 说明 |
|--------|------|
| rideable-max-y | 骑乘时的最大飞行高度 |
| takes-damage-from-water | 是否受水伤害 |

### 洞穴蜘蛛 (Cave Spider)

```yaml
mobs:
  cave_spider:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 苦力怕 (Creeper)

```yaml
mobs:
  creeper:
    rideable: false
    controllable: true
    rideable-in-water: true
    allow-griefing: true
    bypass-mob-griefing: false
    naturally-charged-chance: 0.0
    explode-when-killed: false
    health-impacts-explosion: false
```

| 配置项 | 说明 |
|--------|------|
| allow-griefing | 是否允许破坏方块 |
| bypass-mob-griefing | 是否绕过 mobGriefing 规则 |
| naturally-charged-chance | 自然生成闪电苦力怕的概率 |
| explode-when-killed | 被杀死时是否爆炸 |
| health-impacts-explosion | 生命值是否影响爆炸威力 |

### 溺尸 (Drowned)

```yaml
mobs:
  drowned:
    rideable: false
    controllable: true
    rideable-in-water: true
    jockey:
      only-babies: true
      chance: 0.05
      try-existing-chickens: true
```

| 配置项 | 说明 |
|--------|------|
| jockey.only-babies | 只有幼年溺尸可以骑乘 |
| jockey.chance | 骑乘概率 |
| jockey.try-existing-chickens | 是否尝试骑乘现有的鸡 |

### 远古守卫者 (Elder Guardian)

```yaml
mobs:
  elder_guardian:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 末影人 (Enderman)

```yaml
mobs:
  enderman:
    rideable: false
    controllable: true
    rideable-in-water: true
    allow-griefing: true
    can-despawn-with-held-block: false
    ignore-projectiles: false
    bypass-mob-griefing: false
    takes-damage-from-water: true
```

| 配置项 | 说明 |
|--------|------|
| allow-griefing | 是否允许搬运方块 |
| can-despawn-with-held-block | 手持方块时是否可以消失 |
| ignore-projectiles | 是否忽略投射物 |
| takes-damage-from-water | 是否受水伤害 |

### 末影螨 (Endermite)

```yaml
mobs:
  endermite:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 唤魔者 (Evoker)

```yaml
mobs:
  evoker:
    rideable: false
    controllable: true
    rideable-in-water: true
    bypass-mob-griefing: false
```

### 恶魂 (Ghast)

```yaml
mobs:
  ghast:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    allow-griefing: true
    bypass-mob-griefing: false
```

| 配置项 | 说明 |
|--------|------|
| rideable-max-y | 骑乘时的最大飞行高度 |
| allow-griefing | 是否允许火球破坏方块 |

### 巨人 (Giant)

```yaml
mobs:
  giant:
    rideable: false
    controllable: true
    rideable-in-water: true
    step-height: 2.0
    jump-height: 1.0
    movement-speed: 0.5
    attack-damage: 50.0
    have-ai: false
    have-hostile-ai: false
    max-health: 100.0
```

| 配置项 | 说明 |
|--------|------|
| step-height | 可跨越的方块高度 |
| jump-height | 跳跃高度 |
| movement-speed | 移动速度 |
| attack-damage | 攻击伤害 |
| have-ai | 是否有 AI |
| have-hostile-ai | 是否有敌对 AI |
| max-health | 最大生命值 |

**注意**：巨人是原版中未使用的生物，Purpur 允许你启用它的 AI。

### 守卫者 (Guardian)

```yaml
mobs:
  guardian:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 疣猪兽 (Hoglin)

```yaml
mobs:
  hoglin:
    rideable: false
    controllable: true
    rideable-in-water: true
    breeding-delay-ticks: 6000
```

### 尸壳 (Husk)

```yaml
mobs:
  husk:
    rideable: false
    controllable: true
    rideable-in-water: true
    jockey:
      only-babies: true
      chance: 0.05
      try-existing-chickens: true
```

### 幻术师 (Illusioner)

```yaml
mobs:
  illusioner:
    rideable: false
    controllable: true
    rideable-in-water: true
    movement-speed: 0.5
    follow-range: 18.0
    max-health: 32.0
```

**注意**：幻术师是原版中未使用的生物，Purpur 允许你配置它的属性。

### 岩浆怪 (Magma Cube)

```yaml
mobs:
  magma_cube:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 幻翼 (Phantom)

```yaml
mobs:
  phantom:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    flames-on-swoop: false
    burn-in-daylight: true
    burn-in-light: 0
    ignore-players-with-torch: false
    allow-griefing: false
    spawn:
      min-sky-darkness: 5
      only-above-sea-level: true
      only-with-visible-sky: true
      local-difficulty-chance: 3.0
      min-time-since-slept: 72000
      delay:
        min: 1200
        max: 2400
      overhead:
        min: 20
        max: 35
        radius: 10
      per-attempt:
        min: 1
        max: 1
```

| 配置项 | 说明 |
|--------|------|
| flames-on-swoop | 俯冲时是否产生火焰 |
| burn-in-daylight | 是否在白天燃烧 |
| burn-in-light | 在多少光照等级下燃烧 |
| ignore-players-with-torch | 是否忽略手持火把的玩家 |
| spawn.* | 生成相关的详细配置 |

### 猪灵 (Piglin)

```yaml
mobs:
  piglin:
    rideable: false
    controllable: true
    rideable-in-water: true
    bypass-mob-griefing: false
    portal-spawn-modifier: 2000
```

| 配置项 | 说明 |
|--------|------|
| bypass-mob-griefing | 是否绕过 mobGriefing 规则 |
| portal-spawn-modifier | 传送门生成修正 |

### 猪灵蛮兵 (Piglin Brute)

```yaml
mobs:
  piglin_brute:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 掠夺者 (Pillager)

```yaml
mobs:
  pillager:
    rideable: false
    controllable: true
    rideable-in-water: true
    bypass-mob-griefing: false
```

### 劫掠兽 (Ravager)

```yaml
mobs:
  ravager:
    rideable: false
    controllable: true
    rideable-in-water: true
    bypass-mob-griefing: false
    griefable-blocks:
      - minecraft:oak_leaves
      - minecraft:spruce_leaves
      # ... 更多方块
```

| 配置项 | 说明 |
|--------|------|
| griefable-blocks | 可以被破坏的方块列表 |

### 潜影贝 (Shulker)

```yaml
mobs:
  shulker:
    rideable: false
    controllable: true
    rideable-in-water: true
    spawn-from-bullet:
      base-chance: 0.0625
      require-open-lid: true
      nearby-range: 8.0
      nearby-equation: "(nearby - 1) / 5.0"
      random-color: false
```

| 配置项 | 说明 |
|--------|------|
| spawn-from-bullet.base-chance | 从子弹生成的基础概率 |
| spawn-from-bullet.require-open-lid | 是否需要打开盖子 |
| spawn-from-bullet.nearby-range | 附近范围 |
| spawn-from-bullet.random-color | 是否随机颜色 |

### 蠹虫 (Silverfish)

```yaml
mobs:
  silverfish:
    rideable: false
    controllable: true
    rideable-in-water: true
    bypass-mob-griefing: false
```

### 骷髅 (Skeleton)

```yaml
mobs:
  skeleton:
    rideable: false
    controllable: true
    rideable-in-water: true
    bow-accuracy: 14 - difficulty * 4
```

| 配置项 | 说明 |
|--------|------|
| bow-accuracy | 弓箭精准度公式 |

### 史莱姆 (Slime)

```yaml
mobs:
  slime:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 蜘蛛 (Spider)

```yaml
mobs:
  spider:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 流浪者 (Stray)

```yaml
mobs:
  stray:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 恼鬼 (Vex)

```yaml
mobs:
  vex:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    takes-damage-from-water: false
```

### 卫道士 (Vindicator)

```yaml
mobs:
  vindicator:
    rideable: false
    controllable: true
    rideable-in-water: true
    johnny:
      spawn-chance: 0.0
```

| 配置项 | 说明 |
|--------|------|
| johnny.spawn-chance | 生成 Johnny 卫道士的概率 |

### 监守者 (Warden)

```yaml
mobs:
  warden:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 女巫 (Witch)

```yaml
mobs:
  witch:
    rideable: false
    controllable: true
    rideable-in-water: true
```

### 凋灵 (Wither)

```yaml
mobs:
  wither:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    can-ride-vehicles: false
    explosion-radius: 1.0
    health-regen-amount: 1.0
    health-regen-delay: 20
    bypass-mob-griefing: false
```

| 配置项 | 说明 |
|--------|------|
| can-ride-vehicles | 是否可以骑乘载具 |
| explosion-radius | 爆炸半径 |
| health-regen-amount | 生命恢复量 |
| health-regen-delay | 生命恢复延迟 |

### 凋灵骷髅 (Wither Skeleton)

```yaml
mobs:
  wither_skeleton:
    rideable: false
    controllable: true
    rideable-in-water: true
    takes-damage-from-water: false
```

### 僵尸 (Zombie)

```yaml
mobs:
  zombie:
    rideable: false
    controllable: true
    rideable-in-water: true
    jockey:
      only-babies: true
      chance: 0.05
      try-existing-chickens: true
    aggressive-towards-villager-when-lagging: true
    bypass-mob-griefing: false
```

| 配置项 | 说明 |
|--------|------|
| jockey.* | 骑乘鸡的相关配置 |
| aggressive-towards-villager-when-lagging | 服务器卡顿时是否仍对村民有敌意 |

### 僵尸村民 (Zombie Villager)

```yaml
mobs:
  zombie_villager:
    rideable: false
    controllable: true
    rideable-in-water: true
    curing:
      enabled: true
      min-time: 3600
      max-time: 6000
```

| 配置项 | 说明 |
|--------|------|
| curing.enabled | 是否可以治愈 |
| curing.min-time | 最短治愈时间 |
| curing.max-time | 最长治愈时间 |

### 僵尸猪灵 (Zombified Piglin)

```yaml
mobs:
  zombified_piglin:
    rideable: false
    controllable: true
    rideable-in-water: true
    jockey:
      only-babies: true
      chance: 0.05
      try-existing-chickens: true
    count-as-player-kill-when-angry: true
```

| 配置项 | 说明 |
|--------|------|
| count-as-player-kill-when-angry | 愤怒时死亡是否算作玩家击杀 |

---

## Boss 生物配置

### 末影龙 (Ender Dragon)

```yaml
mobs:
  ender_dragon:
    rideable: false
    controllable: true
    rideable-in-water: true
    rideable-max-y: 256
    always-drop-full-exp: false
    bypass-mob-griefing: false
    can-ride-vehicles: false
    attributes:
      max_health:
        min: 1.0
        max: 1024.0
```

| 配置项 | 说明 |
|--------|------|
| always-drop-full-exp | 是否总是掉落完整经验 |
| can-ride-vehicles | 是否可以骑乘载具 |

**趣味玩法**：启用末影龙骑乘后，玩家可以骑着末影龙飞行！

---

## 注意事项

:::tip 提示
- 所有生物配置都在 `world-settings.default.mobs` 下
- 可以为特定世界设置不同的配置
- 骑乘功能需要相应权限节点
:::

:::warning 注意
- 某些骑乘配置可能影响游戏平衡
- 修改生物属性可能导致意外行为
- 建议在测试服务器上先验证配置
:::
