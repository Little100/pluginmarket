# bukkit.yml 配置详解 - 生物生成

## 概述

本节介绍 bukkit.yml 中与生物生成相关的两个重要配置节点：
- `spawn-limits`：控制各类生物的生成数量上限
- `ticks-per`：控制各类生物的生成检查频率

合理配置这些参数可以有效平衡服务器性能和游戏体验。

---

## spawn-limits 节点

spawn-limits 控制服务器中各类生物的最大生成数量。这些数值是针对每个玩家计算的，实际生成数量会根据在线玩家数量动态调整。

```yaml
spawn-limits:
  monsters: 70
  animals: 10
  water-animals: 5
  water-ambient: 20
  water-underground-creature: 5
  axolotls: 5
  ambient: 15
```

### monsters

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.monsters` |
| 类型 | 整数 |
| 默认值 | `70` |

控制敌对生物（怪物）的生成上限。

包括的生物类型：
- 僵尸、骷髅、蜘蛛、爬行者
- 末影人、女巫、史莱姆
- 溺尸、幻翼、掠夺者等

降低此值可以显著减少服务器的实体计算负担，但会影响玩家的刷怪效率和游戏难度。

**性能优化建议**：对于大型服务器，可以考虑降低到 `50` 左右。

---

### animals

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.animals` |
| 类型 | 整数 |
| 默认值 | `10` |

控制友好动物的生成上限。

包括的生物类型：
- 猪、牛、羊、鸡
- 马、驴、骡
- 兔子、狐狸、狼等

动物主要在世界生成时产生，之后的自然生成较少。此值主要影响新区块加载时的动物数量。

---

### water-animals

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.water-animals` |
| 类型 | 整数 |
| 默认值 | `5` |

控制水生动物的生成上限。

包括的生物类型：
- 鱿鱼
- 海豚

这些生物只在海洋和河流生物群系中生成。

---

### water-ambient

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.water-ambient` |
| 类型 | 整数 |
| 默认值 | `20` |

控制水生环境生物的生成上限。

包括的生物类型：
- 各种热带鱼
- 鳕鱼、鲑鱼、河豚

这些生物主要用于装饰海洋环境，对游戏性影响较小。

---

### water-underground-creature

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.water-underground-creature` |
| 类型 | 整数 |
| 默认值 | `5` |

控制地下水生生物的生成上限。

包括的生物类型：
- 发光鱿鱼

发光鱿鱼只在地下水域（Y=30 以下）生成。

---

### axolotls

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.axolotls` |
| 类型 | 整数 |
| 默认值 | `5` |

控制美西螈的生成上限。

美西螈是 1.17 版本加入的生物，只在繁茂洞穴生物群系的水中生成。

---

### ambient

| 属性 | 值 |
|------|-----|
| 键名 | `spawn-limits.ambient` |
| 类型 | 整数 |
| 默认值 | `15` |

控制环境生物的生成上限。

包括的生物类型：
- 蝙蝠

蝙蝠是纯装饰性生物，对游戏性没有影响。如果想优化性能，可以将此值设为 `0` 完全禁止蝙蝠生成。

---

## ticks-per 节点

ticks-per 控制服务器检查各类生物生成的频率。数值表示每隔多少游戏刻（tick）进行一次生成检查。

1 秒 = 20 游戏刻（在 TPS 正常的情况下）

```yaml
ticks-per:
  animal-spawns: 400
  monster-spawns: 1
  water-spawns: 1
  water-ambient-spawns: 1
  water-underground-creature-spawns: 1
  axolotl-spawns: 1
  ambient-spawns: 1
  autosave: 6000
```

### animal-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.animal-spawns` |
| 类型 | 整数 |
| 默认值 | `400` |

控制动物生成检查的间隔（游戏刻）。

默认值 `400` 表示每 20 秒检查一次动物生成。由于动物主要在区块首次生成时产生，较长的检查间隔不会明显影响游戏体验。

---

### monster-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.monster-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制怪物生成检查的间隔（游戏刻）。

默认值 `1` 表示每个游戏刻都检查怪物生成。这确保了怪物能够快速刷新，维持游戏难度。

**性能优化建议**：可以适当增加到 `2-5`，减少检查频率以提升性能，但会略微降低怪物刷新速度。

---

### water-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.water-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制水生动物（鱿鱼、海豚）生成检查的间隔。

---

### water-ambient-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.water-ambient-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制水生环境生物（鱼类）生成检查的间隔。

---

### water-underground-creature-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.water-underground-creature-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制地下水生生物（发光鱿鱼）生成检查的间隔。

---

### axolotl-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.axolotl-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制美西螈生成检查的间隔。

---

### ambient-spawns

| 属性 | 值 |
|------|-----|
| 键名 | `ticks-per.ambient-spawns` |
| 类型 | 整数 |
| 默认值 | `1` |

控制环境生物（蝙蝠）生成检查的间隔。

---

## 性能优化推荐配置

以下是针对性能优化的推荐配置：

```yaml
spawn-limits:
  monsters: 50          # 适当降低怪物数量
  animals: 10           # 保持默认
  water-animals: 3      # 略微降低
  water-ambient: 10     # 减少鱼类数量
  water-underground-creature: 3
  axolotls: 3
  ambient: 1            # 大幅减少蝙蝠

ticks-per:
  animal-spawns: 400    # 保持默认
  monster-spawns: 2     # 略微增加间隔
  water-spawns: 2
  water-ambient-spawns: 40
  water-underground-creature-spawns: 2
  axolotl-spawns: 2
  ambient-spawns: 40    # 大幅增加蝙蝠检查间隔
```

## 注意事项

1. **数值为 0 的特殊含义**：将 spawn-limits 中的值设为 `0` 会完全禁止该类生物的自然生成
2. **负数的影响**：ticks-per 中的负数值会使用默认值
3. **与其他配置的关系**：Paper 等服务端有更细致的生物生成控制选项，可能会覆盖这些设置
4. **游戏平衡**：过度降低生物数量会影响玩家的游戏体验，需要在性能和体验之间找到平衡
