# bukkit.yml 配置详解 - 世界与别名

## 概述

本节介绍 bukkit.yml 中的世界配置和命令别名配置：
- `worlds`：世界生成器和种子设置
- `aliases`：命令别名配置

---

## aliases 节点

aliases 节点用于配置命令别名，可以为现有命令创建简短的替代名称，或者将多个命令组合成一个。

```yaml
aliases:
  icanhasbukkit:
    - version $1-
```

### 基本语法

```yaml
aliases:
  别名:
    - 原命令 参数
```

### 参数占位符

| 占位符 | 说明 |
|--------|------|
| `$1` | 第一个参数 |
| `$2` | 第二个参数 |
| `$1-` | 从第一个参数开始的所有参数 |
| `$2-` | 从第二个参数开始的所有参数 |

### 示例配置

```yaml
aliases:
  # 简单别名：/v 等同于 /version
  v:
    - version
  
  # 带参数的别名：/gm 0 等同于 /gamemode survival
  gm:
    - gamemode $1
  
  # 多命令别名：/kit starter 执行多个命令
  kit:
    - give $sender diamond_sword 1
    - give $sender diamond_pickaxe 1
    - give $sender cooked_beef 64
  
  # 传递所有参数
  tp:
    - teleport $1-
```

### 特殊变量

| 变量 | 说明 |
|------|------|
| `$sender` | 执行命令的玩家名 |

### 注意事项

1. **权限继承**：使用别名执行命令时，仍需要原命令的权限
2. **插件命令**：可以为插件命令创建别名
3. **命令冲突**：如果别名与现有命令同名，别名会覆盖原命令
4. **大小写**：别名不区分大小写

---

## worlds 节点

worlds 节点用于配置各个世界的生成器和种子。这对于使用自定义世界生成器或需要指定世界种子的服务器非常有用。

```yaml
worlds:
  world:
    generator: TerrainControl
  world_nether:
    generator: TerrainControl:nether
  world_the_end:
    generator: TerrainControl:end
  creative_world:
    generator: CleanroomGenerator:.
```

### generator

| 属性 | 值 |
|------|-----|
| 键名 | `worlds.<世界名>.generator` |
| 类型 | 字符串 |
| 默认值 | 无（使用原版生成器） |

指定世界使用的自定义生成器。

**格式**：`插件名:生成器ID`

- `插件名`：提供生成器的插件名称
- `生成器ID`：该插件提供的具体生成器标识（可选）

**常见的世界生成器插件**：

| 插件 | 说明 |
|------|------|
| Terra | 高度可定制的地形生成器 |
| Iris | 高性能自定义世界生成器 |
| CleanroomGenerator | 生成平坦/空白世界 |
| VoidGenerator | 生成虚空世界 |
| EpicWorldGenerator | 史诗级地形生成器 |

**示例**：

```yaml
worlds:
  # 使用 Terra 生成器
  survival:
    generator: Terra:OVERWORLD
  
  # 使用 CleanroomGenerator 生成平坦世界
  # "." 表示只有一层基岩
  flatworld:
    generator: CleanroomGenerator:.
  
  # 使用 VoidGenerator 生成虚空世界
  void:
    generator: VoidGenerator
```

---

### seed

虽然 bukkit.yml 的默认配置中没有显示 seed 选项，但你可以为每个世界指定种子：

```yaml
worlds:
  world:
    seed: 12345678
  creative:
    seed: -987654321
```

| 属性 | 值 |
|------|-----|
| 键名 | `worlds.<世界名>.seed` |
| 类型 | 整数或字符串 |
| 默认值 | 随机 |

**注意**：
- 种子只在世界首次生成时有效
- 已存在的世界不会因为修改种子而改变
- 如果要使用新种子，需要删除现有世界文件夹

---

## 多世界配置示例

以下是一个完整的多世界服务器配置示例：

```yaml
worlds:
  # 主世界 - 使用原版生成器
  world:
    generator: 
  
  # 下界 - 使用原版生成器
  world_nether:
    generator:
  
  # 末地 - 使用原版生成器
  world_the_end:
    generator:
  
  # 资源世界 - 使用 Terra 生成器
  resource:
    generator: Terra:OVERWORLD
  
  # 创造世界 - 平坦世界
  creative:
    generator: CleanroomGenerator:50,stone,20,dirt,1,grass_block
  
  # 空岛世界 - 虚空世界
  skyblock:
    generator: VoidGenerator
```

---

## 与多世界插件的配合

如果你使用多世界管理插件（如 Multiverse-Core、MyWorlds 等），worlds 节点的配置需要与插件配置保持一致。

### Multiverse-Core 配合示例

1. 在 bukkit.yml 中配置生成器：
```yaml
worlds:
  creative:
    generator: CleanroomGenerator:.
```

2. 使用 Multiverse 命令创建世界：
```
/mv create creative normal -g CleanroomGenerator:.
```

### 注意事项

1. **世界名称一致性**：bukkit.yml 中的世界名必须与实际世界文件夹名一致
2. **插件加载顺序**：生成器插件必须在世界加载前完成加载
3. **配置优先级**：某些多世界插件可能有自己的生成器配置，可能会覆盖 bukkit.yml 的设置

---

## 推荐配置

### 标准服务器（无自定义生成器）

```yaml
aliases:
  v:
    - version
  gm:
    - gamemode $1 $2-

worlds: {}
```

### 使用自定义生成器的服务器

```yaml
aliases:
  v:
    - version

worlds:
  world:
    generator: Terra:OVERWORLD
  resource:
    generator: Terra:OVERWORLD
  creative:
    generator: CleanroomGenerator:64,stone,3,dirt,1,grass_block
```
